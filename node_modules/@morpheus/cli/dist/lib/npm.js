"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.searchNpmPackage = exports.searchNpmPackagesByScope = void 0;
const superagent_1 = require("./utils/superagent");
function createNpmRequest(method, url, config) {
    return (0, superagent_1.createRequest)(method, `${config.npmRegistryUrl}${url}`, {
        userAgent: `node/superagent/Morpheus CLI ${config.package.version}`,
        disabledTLSCerts: config.disabledTLSCerts,
    });
}
async function searchNpmPackagesByScope(scope, config) {
    const { req } = await createNpmRequest('GET', `/-/v1/search?size=250&text=${scope}`, config);
    const ret = await req;
    return ret.body;
}
exports.searchNpmPackagesByScope = searchNpmPackagesByScope;
async function searchNpmPackage(packageName, config) {
    const { req } = await createNpmRequest('GET', `/${packageName}`, config);
    const ret = await req;
    return ret.body;
}
exports.searchNpmPackage = searchNpmPackage;
