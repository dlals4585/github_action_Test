/*! MFile 2.1.4.19  [Android 2.1.4.19 , iOS 2.1.4.19 ] */
(function(b,c){var a="2.1.4.19";M.addon("file",{create:function(){var e,h,d,g=b,i={};e=M.defaultSetting.create({paramsKeys:["path","type"],defaultSetting:{path:"/",type:"FILE"},surrogateKeys:{name:"path",alias:"path",source:"path",option:"type"},enumsKeys:{type:{FILE:0,DIR:1}}});h=e.convert(arguments);i.path=h.path;i.type=h.type;d=M.execute("wn2FileCreate",i)||{error:"Unknown Error",status:"FAIL"};var f={};if(d.error){f={status:d.status,error:d.error,message:d.error}}else{f={status:d.status,path:d.path||"",alias:d.alias||"",source:d.source||"",fullpath:d.source||""}}return f},write:function(){var e,g,d,f=b,h={};e=M.defaultSetting.create({paramsKeys:["__SETTING__","callback"],defaultSetting:{path:"",contents:"",encoding:"UTF-8",indicator:true,callback:function(j,i){M.debug.log("M.file.write.callback",j,i)}},surrogateKeys:{name:"path",alias:"path",source:"path",data:"contents",encode:"encoding",finish:"callback",onfinish:"callback"},enumsKeys:{encoding:{"UTF-8":0,"EUC-KR":1,BASE64:2}}});g=e.convert(arguments);g.response=M.response.on(function(i){if(typeof i=="string"){i=JSON.parse(i)}var j=i.status;var k={};if(i.error){k={status:i.status,error:i.error,message:i.error}}else{k={status:i.status,path:i.path||"",alias:i.alias||"",source:i.source||"",data:i.data,size:i.size,fullpath:i.source||"",encode:g.encoding,encoding:g.encoding,length:i.size}}g.callback.call(f,j,k,g)});h.path=g.path;h.contents=g.contents;h.encoding=g.encoding;h.useIndicator=g.indicator===true?"Y":"N";h.callback=g.response.toString();d=M.execute("wn2FileWrite",h)||{error:"Unknown Error",status:"FAIL"};if(d.status!=="PROCESSING"){g.response.execute(d)}return M},read:function(){var e,g,d,f=b,h={};e=M.defaultSetting.create({paramsKeys:["__SETTING__","callback"],defaultSetting:{path:"",encoding:"UTF-8",indicator:true,callback:function(j,i){M.debug.log("M.file.read.callback",j,i)}},surrogateKeys:{name:"path",alias:"path",source:"path",encode:"encoding",load:"callback",onload:"callback"},enumsKeys:{}});g=e.convert(arguments);g.response=M.response.on(function(i){var j=i.status;var k={};if(i.error){k={status:i.status,error:i.error,message:i.error}}else{k={status:i.status,path:i.path||"",alias:i.alias||"",source:i.source||"",data:i.data,size:i.size,fullpath:i.source||"",encode:g.encoding,encoding:g.encoding,length:i.size}}g.callback.call(f,j,k,g)});h.path=g.path;h.encoding=g.encoding;h.useIndicator=g.indicator===true?"Y":"N";h.callback=g.response.toString();d=M.execute("wn2FileRead",h)||{error:"Unknown Error",status:"FAIL"};if(d.status!=="PROCESSING"){g.response.execute(d)}return M},remove:function(){var e,h,d,g=b,i={};e=M.defaultSetting.create({paramsKeys:["path"],defaultSetting:{path:"/"},surrogateKeys:{name:"path",alias:"path",source:"path"},enumsKeys:{}});h=e.convert(arguments);i.path=h.path;d=M.execute("wn2FileRemove",i)||{error:"Unknown Error",status:"FAIL"};var f=d;if(d.error){f={status:d.status,error:d.error,message:d.error}}else{f={status:d.status,path:d.path||"",alias:d.alias||"",source:d.source||"",fullpath:d.source|""}}return f},copy:function(){var e,g,d,f=b,h={};e=M.defaultSetting.create({paramsKeys:["__SETTING__","finish","progress"],defaultSetting:{source:"",destination:"",overwrite:false,indicator:true,permission:"NORMAL",progress:function(l,m,j,k,n,i){M.debug.log("M.file.copy.progress",l,m,j,k,n,i)},finish:function(j,i){M.debug.log("M.file.copy.finish",j,i)}},surrogateKeys:{path:"source",from:"source",alias:"source",source:"source",to:"destination",onprogress:"progress",onfinish:"finish",callback:"finish"},enumsKeys:{type:{FILE:0,DIR:1},permission:{NORMAL:0,RESOURCE:1}}});g=e.convert(arguments);g.progressResponse=M.response.on(function(i){var m=i.total;var n=i.current;var k=i.index;var l=i.count;var o=i.srcPath;var j=i.dstPath;g.progress.call(f,m,n,k,l,o,j,g)});g.progressResponse.progressing=true;g.finishResponse=M.response.on(function(i){var j=i.status;var k={};if(i.error){k={status:i.status,error:i.error,message:i.error}}else{k={status:i.status,path:i.path||"",alias:i.alias||"",source:i.source||"",type:i.type||"UNKNOWN",fullpath:i.source||""}}g.progressResponse.expire();g.finish.call(f,j,k,g)});h.source=g.source;h.destination=g.destination;h.permission=g.permission;h.isOverwrite=g.overwrite===true?"Y":"N";h.useIndicator=g.indicator===true?"Y":"N";h.progress=g.progressResponse.toString();h.finish=g.finishResponse.toString();d=M.execute("wn2FileCopy",h)||{error:"Unknown Error",status:"FAIL"};if(d.status!=="PROCESSING"){g.finishResponse.execute(d)}return M},move:function(){var e,g,d,f=b,h={};e=M.defaultSetting.create({paramsKeys:["__SETTING__","finish","progress"],defaultSetting:{source:"",destination:"",overwrite:false,indicator:true,progress:function(l,m,j,k,n,i){M.debug.log("M.file.move.finish",l,m,j,k,n,i)},finish:function(j,i){M.debug.log("M.file.move.finish",j,i)}},surrogateKeys:{path:"source",from:"source",alias:"source",source:"source",to:"destination",onprogress:"progress",onfinish:"finish",callback:"finish"},enumsKeys:{type:{FILE:0,DIR:1}}});g=e.convert(arguments);g.progressResponse=M.response.on(function(i){var m=i.total;var n=i.current;var k=i.index;var l=i.count;var o=i.srcPath;var j=i.dstPath;g.progress.call(f,m,n,k,l,o,j,g)});g.progressResponse.progressing=true;g.finishResponse=M.response.on(function(i){var j=i.status;var k={};if(i.error){k={status:i.status,error:i.error,message:i.error}}else{k={status:i.status,path:i.path||"",alias:i.alias||"",source:i.source||"",type:i.type||"UNKNOWN",fullpath:i.source||""}}g.progressResponse.expire();g.finish.call(f,j,k,g)});h.source=g.source;h.destination=g.destination;h.isOverwrite=g.overwrite===true?"Y":"N";h.useIndicator=g.indicator===true?"Y":"N";h.progress=g.progressResponse.toString();h.finish=g.finishResponse.toString();d=M.execute("wn2FileMove",h)||{error:"Unknown Error",status:"FAIL"};if(d.status!=="PROCESSING"){g.finishResponse.execute(d)}return M},info:function(){var e,h,d,g=b,i={};e=M.defaultSetting.create({paramsKeys:["path"],defaultSetting:{path:"/"},surrogateKeys:{name:"path",alias:"path",source:"path"},enumsKeys:{}});h=e.convert(arguments);i.path=h.path;d=M.execute("wn2FileInfo",i)||{error:"Unknown Error",status:"FAIL"};var f={};if(d.error){f={status:d.status,error:d.error,message:d.error}}else{if(d.type==="DIR"){f={status:d.status,type:d.type||"UNKNOWN",path:d.path||"",alias:d.alias||"",source:d.source||"",name:d.name,list:d.list,created:d.created,updated:d.updated,create:d.created,update:d.updated,fullpath:d.source||""}}else{if(d.type==="FILE"){f={status:d.status,type:d.type||"UNKNOWN",path:d.path||"",alias:d.alias||"",source:d.source||"",name:d.name,size:d.size,created:d.created,updated:d.updated,create:d.created,update:d.updated,fullpath:d.source||""}}}}return f},list:function(){var g,n,o,f=b,l={};g=M.defaultSetting.create({paramsKeys:["path","filter"],defaultSetting:{path:"/",filter:"ALL"},surrogateKeys:{name:"path",alias:"path",source:"path",type:"filter"},enumsKeys:{filter:{ALL:0,FILE:1,DIR:2}}});n=g.convert(arguments);l.path=n.path;o=M.execute("wn2FileList",l)||{error:"Unknown Error",status:"FAIL"};if(o.status==="SUCCESS"){var j=o.list;var e=[];var d=[];for(var h=0,k=j.length;h<k;h++){var m=j[h];if(m.type=="FILE"){m.file_name=m.name;e.push(m)}if(m.type=="DIR"){m.dir_name=m.name;d.push(m)}}if(n.filter==="FILE"){o.file_list=e;o.file_count=e.length}else{if(n.filter==="DIR"){o.dir_list=d;o.dir_count=d.length}else{o.file_list=e;o.file_count=e.length;o.dir_list=d;o.dir_count=d.length}}}return o},picker:function(){var e,g,d,f=b,h={};e=M.defaultSetting.create({paramsKeys:["type","callback","iosType"],defaultSetting:{iosType:"data",type:"*/*",callback:function(j,i){M.debug.log("M.file.picker.callback",j,i)}},surrogateKeys:{},enumsKeys:{}});g=e.convert(arguments);g.response=M.response.on(function(j){var k=j.status;var o,n;if(j.error){o={status:j.status,error:j.error,message:j.error}}else{var q=j.result;if(M.util.typeOf(q)===OBJECT_TYPE.ARRAY){var p=[],m;for(var l=0;l<q.length;l++){var n=q[l];m={path:n.path||"",alias:n.alias||"",source:n.source||"",fullpath:n.fullpath||""};p.push(m)}o=p}else{o=[{path:q.path||"",alias:q.alias||"",source:q.source||"",fullpath:q.fullpath||""}]}}g.callback.call(f,k,o,g)});h.type=g.type;h.iosType=g.iosType;h.callback=g.response.toString();d=M.execute("wn2FilePicker",h)||{error:"Unknown Error",status:"FAIL"};if(d.status!=="PROCESSING"){g.response.execute(d)}return M}},a)})(window);